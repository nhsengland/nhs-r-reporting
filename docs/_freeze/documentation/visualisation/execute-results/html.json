{
  "hash": "2fe1d6be298d8a38a0735900f29953c7",
  "result": {
    "markdown": "---\ntitle: Visualising Data in R\nsubtitle: Common Charts and Plots using in the NHS\n---\n\n\n\n\n## Line Chart\n\n### ggplot (non-interactive)\n\n#### Packages used:\n```r\nlibrary(here)\nsource(here(\"utility\", \"nhs_style.R\"))           # load nhsplot style\nlibrary(NHSRdatasets)\nlibrary(tidyverse)\n```\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# filter dataset\ndf <- ae_attendances %>% \n  filter(org_code == \"RQM\", type == 1)\n\n# make plot\nggplot(df, aes(x = period, y = attendances)) +\n  geom_line(colour = \"#005EB8\", size = 1) +\n  geom_hline(yintercept = 0,\n             size = 1,\n             colour=\"#333333\") +                 # bold line at x-axis\n  nhs_style() +                                  # apply nhsplot style\n  ylim(c(0, max(df$attendances)+1000)) +         # add space above line\n  scale_y_continuous(labels = scales::comma) +   # add 1000s comma format\n  labs(title = \"Chelsea & Westminster Hospital\",\n       x = \"Year\",\n       y = \"A&E Attendances\")\n```\n\n::: {.cell-output-display}\n![](visualisation_files/figure-html/Example Line Chart-1.png){width=672}\n:::\n:::\n\n\n## Statistical Process Control (SPC)\n\nThe [NHSR Plot the Dots](https://github.com/nhs-r-community/NHSRplotthedots) package is built by the [NHS-R community](https://nhsrcommunity.com) to provide tools for drawing statistical process control (SPC) charts. The package supports the NHS England programme ['Making Data Count'](https://www.england.nhs.uk/publication/making-data-count/). The programme encourages boards, managers, and analyst teams to present data in ways that show change over time, and drive better understanding of indicators than 'RAG' (red, amber, green) rated reports often present.\n\n### Installation\n\n```r\n# install from CRAN\ninstall.packages(\"NHSRplotthedots\")\ninstall.packages(\"rmarkdown\")\n\n# Or install the development version from GitHub using {remotes} package:\n# install.packages(\"remotes\")\nremotes::install_github(\"https://github.com/nhs-r-community/NHSRplotthedots\", build_vignettes = TRUE)\n```\n\nThe help-files, and vignette within this package tell you more about the possible options for controlling the charts\n\n### Example Chart\n\nBelow is an example of the type of chart the package produces. The plot uses the `ae_attendances` dataset from the `{NHSRdatasets}` package and a bit of `{dplyr}` code to select some organisations.\n\n#### Packages used:\n```r\nlibrary(NHSRplotthedots)\nlibrary(NHSRdatasets)\nlibrary(tidyverse)\n```\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf <- ae_attendances %>% \n  filter(org_code == \"RQM\", type == 1, period < as.Date(\"2018-04-01\"))\n\ndf %>%\n  ptd_spc(value_field = breaches, date_field = period, improvement_direction = \"decrease\")\n```\n\n::: {.cell-output-display}\n![](visualisation_files/figure-html/Example SPC Chart-1.png){width=672}\n:::\n:::\n\n\n## Help Complete this page:\nWe are always looking for examples and best practice to complete this documentation. See [`Contribute to this site`](https://nhsengland.github.io/nhs-r-reporting/1.5-contribute.html) for details on how to add or amend a page on this site.\n\n### Proposed Content:\n- Bar Chart\n- Pyramid Chart\n- Multi-line Chart\n- Targets & Benchmarks\n- KPIs\n- Scatter Plot\n- Box Plot\n- Maps",
    "supporting": [
      "visualisation_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}